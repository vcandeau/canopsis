<html>
<head>
    	<title>authentification</title>
    	<link rel="stylesheet" type="text/css" href="resources/css/ext-all.css">
    	<script type="text/javascript" src="resources/lib/jquery.js"></script>
</head>
<body id="ext-gen3" class=" ext-gecko ext-gecko3 ext-linux x-border-layout-ct">
<!--
<form id="login_form" class="x-plain-body x-plain-body-noheader x-form" style="padding: 15px 15px 0pt;">
identifiant : <input id="login" class="x-form-item " type="text" name="login" ></br> 
mot de passe : <input id="password" class="x-form-item " type="password" name="password" ></br> 
<input type="submit" value="Identifier"> </form>
	-->

<!--

<div id="top-header" class=" x-panel-header x-border-panel" style="height: 39px; left: 0px; top: 0px; width: 1091px;">
	<div id="top-header">
		<div class="logo">
			<div>
				<img src="/images/logo.png">
				OpenVZ Web Panel 2.0
			</div>
		</div>
		<div class="copyright">
			<div>
				<a id="copyright-link" href="#">&copy; Copyright 2008-2011 SoftUnity.<br>All Rights Reserved.</a>
			</div>
		</div>
	</div>
</div>

<div id="ext-comp-1003" class=" x-panel x-border-panel" style="left: 0px; top: 50px; width: 1101px;">
<div id="ext-gen12" class="x-panel-bwrap">
<div id="ext-gen13" class="x-panel-body x-panel-body-noheader" style="background: url(\"/images/desktop.jpg\") no-repeat scroll left top rgb(61, 113, 184); width: 1099px; height: 414px;"> 


<div id="ext-gen46" class="x-shadow" style="z-index: 9002; left: 356px; top: 153px; width: 388px; height: 211px; display: block;">
	<div class="xst">
		<div class="xstl"></div>
		<div class="xstc" style="width: 376px;"></div>
		<div class="xstr"></div>
	</div>
	<div class="xsc" style="height: 199px;">
		<div class="xsml"></div>
		<div class="xsmc" style="width: 376px;"></div>
		<div class="xsmr"></div>
	</div>
	<div class="xsb">
		<div class="xsbl"></div>
		<div class="xsbc" style="width: 376px;"></div>
		<div class="xsbr"></div>
	</div>
</div>

		<div id="login-window" class="x-window x-window-plain" style="position: absolute; z-index: 9003; visibility: visible; left: 360px; top: 150px; width: 380px; display: block;">
		<div class="x-window-tl">
			<div class="x-window-tr">
				<div class="x-window-tc">
					<div class="x-window-header x-unselectable x-panel-icon icon-window-login" id="ext-gen17" style="-moz-user-select: none;">
						<span class="x-window-header-text" id="ext-gen27">Log in to OpenVZ Web Panel 2.0</span>
					</div>
				</div>
			</div>
		</div>

		<div class="x-window-bwrap" id="ext-gen18">
			<div class="x-window-ml">
				<div class="x-window-mr">
					<div class="x-window-mc" id="ext-gen22">
						<div class="x-window-body" id="ext-gen19" style="width: 364px; height: auto;">
							<div id="ext-comp-1004" class=" x-plain x-form-label-left">
								<div class="x-plain-bwrap" id="ext-gen30">
									<form id="ext-gen15" method="post" class="x-plain-body x-plain-body-noheader x-form" style="padding: 15px 15px 0pt;">
										<div tabindex="-1" class="x-form-item" id="ext-gen32">
											<label class="x-form-item-label" style="width:100px;" for="login" id="ext-gen33">User name:</label>
											<div style="padding-left:105px" id="x-form-el-login" class="x-form-element">
												<input type="text" name="login" id="login" autocomplete="off" size="20" class="x-form-text x-form-field" style="width: 202px;">
											</div>
											<div class="x-form-clear-left"></div>
										</div>
										<div tabindex="-1" class="x-form-item" id="ext-gen34">
											<label class="x-form-item-label" style="width:100px;" for="password" id="ext-gen35">Password:</label>
											<div style="padding-left:105px" id="x-form-el-password" class="x-form-element">
												<input type="password" name="password" id="password" autocomplete="off" size="20" class=" x-form-text x-form-field" style="width: 202px;">
											</div>
											<div class="x-form-clear-left"></div>
										</div>
										<div tabindex="-1" class="x-form-item" id="ext-gen36">
											<label class="x-form-item-label" style="width:100px;" for="ext-comp-1005" id="ext-gen37">Language:</label>
											<div style="padding-left:105px" id="x-form-el-ext-comp-1005" class="x-form-element">
												<div class="x-form-field-wrap x-form-field-trigger-wrap" id="ext-gen38" style="width: 210px;">
												<input type="hidden" id="locale" name="locale" value="en">
												<input type="text" id="ext-comp-1005" autocomplete="off" size="24" class="x-form-text x-form-field x-trigger-noedit" style="width: 185px;" title="" readonly>
												<img class="x-form-trigger x-form-arrow-trigger" src="/images/blank.gif" id="ext-gen39"></div>
											</div>
											<div class="x-form-clear-left"></div>
										</div>
										<div tabindex="-1" class="x-form-item" id="ext-gen40">
											<label class="x-form-item-label" style="width:100px;" for="ext-comp-1006" id="ext-gen41">Remember me:</label>
											<div style="padding-left:105px" id="x-form-el-ext-comp-1006" class="x-form-element">
												<div class="x-form-check-wrap" id="ext-gen42">
													<input type="checkbox" name="remember_me" id="ext-comp-1006" autocomplete="off" class=" x-form-checkbox x-form-field" checked>
													<label class="x-form-cb-label" for="ext-comp-1006" id="ext-gen43">&nbsp;</label>
												</div>
											</div>
											<div class="x-form-clear-left"></div>
										</div>

										<div tabindex="-1" class="x-form-item x-hide-label" id="ext-gen44">
											<label class="x-form-item-label" style="width:100px;" for="ext-comp-1007" id="ext-gen45"></label>
											<div style="padding-left:105px" id="x-form-el-ext-comp-1007" class="x-form-element">
												<div name="ext-comp-1007" id="ext-comp-1007" class=" x-form-display-field" style="margin-bottom: 10px;">
													<a onclick="document.location.href = '/restore-password'" href="#">Restore password</a>
												</div>
											</div>
											<div class="x-form-clear-left"></div>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div id="ext-gen21" class="x-window-bl">
				<div class="x-window-br">
					<div class="x-window-bc">
						<div id="ext-gen20" class="x-window-footer x-panel-btns" style="width: 356px;">
							<div id="ext-comp-1009" class="x-panel-fbar x-small-editor x-toolbar-layout-ct" style="width: auto;">
								<table class="x-toolbar-ct" cellspacing="0">
									<tbody>
										<tr>
										<td class="x-toolbar-left" align="left">
											<table cellspacing="0">
												<tbody>
													<tr class="x-toolbar-left-row"></tr>
												</tbody>
											</table>
										</td>
										<td class="x-toolbar-right" align="right">
											<table class="x-toolbar-right-ct" cellspacing="0">
												<tbody>
													<tr>
														<td>
															<table cellspacing="0">
																<tbody>
																	<tr class="x-toolbar-right-row">
																		<td id="ext-gen28" class="x-toolbar-cell">
																			<table id="ext-comp-1010" class="x-btn x-btn-text-icon" cellspacing="0" style="width: 75px;">
																				<tbody class="x-btn-small x-btn-icon-small-left">
																					<tr>
																						<td class="x-btn-tl">
																							<i>&nbsp;</i>
																						</td>
																						<td class="x-btn-tc"></td>
																						<td class="x-btn-tr">
																							<i>&nbsp;</i>
																						</td>
																					</tr>
																					<tr>
																						<td class="x-btn-ml">
																							<i>&nbsp;</i>
																						</td>
																						<td class="x-btn-mc">
																							<em class="" unselectable="on">
																								<button id="ext-gen29" class=" x-btn-text icon-button-login" type="button">Log in</button>
																							</em>
																						</td>
																						<td class="x-btn-mr">
																							<i>&nbsp;</i>
																						</td>
																					</tr>
																					<tr>
																						<td class="x-btn-bl">
																							<i>&nbsp;</i>
																						</td>
																						<td class="x-btn-bc"></td>
																						<td class="x-btn-br">
																							<i>&nbsp;</i>
																						</td>
																					</tr>
																				</tbody>
																			</table>
																		</td>
																	</tr>
																</tbody>
															</table>
														</td>
														<td>
															<table cellspacing="0">
																<tbody>
																	<tr class="x-toolbar-extras-row"></tr>
																</tbody>
															</table>
														</td>
													</tr>
												</tbody>
											</table>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
							<div id="ext-gen24" class="x-clear"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<a id="ext-gen25" class="x-dlg-focus" tabindex="-1" href="#">&nbsp;</a>

	
	</div>
	</div>
</div>

-->
	
<div style="height: 39px; left: 0px; top: 0px; width: 1430px;" class=" x-panel-header x-border-panel" id="top-header"><div id="top-header">
  <div class="logo">
    <div>
      <img src="/images/logo.png">
      OpenVZ Web Panel 2.0
    </div>
  </div>
  
  <div class="copyright">
    <div>
      <a id="copyright-link" href="#">
        Â© Copyright 2008-2011 SoftUnity.<br>
        All Rights Reserved.
      </a>
    </div>
  </div>
</div></div>
<div style="left: 0px; top: 50px; width: 1440px;" class=" x-panel x-border-panel" id="ext-comp-1003">
	<div id="ext-gen12" class="x-panel-bwrap">
		<div style="background: url(&quot;/images/desktop.jpg&quot;) no-repeat scroll left top rgb(61, 113, 184); width: 1438px; height: 442px;" id="ext-gen13" class="x-panel-body x-panel-body-noheader">
			<div id="main-content">
				<div style="display: none;" id="ext-gen26" class="x-window-proxy"></div>
					<div style="z-index: 9002; left: 293px; top: 153px; width: 388px; height: 211px; display: block;" id="ext-gen46" class="x-shadow">
						<div class="xst">
							<div class="xstl"></div>
							<div style="width: 376px;" class="xstc"></div>
							<div class="xstr"></div></div><div style="height: 199px;" class="xsc">
								<div class="xsml"></div><div style="width: 376px;" class="xsmc"></div>
								<div class="xsmr"></div></div><div class="xsb">
									<div class="xsbl"></div><div style="width: 376px;" class="xsbc"></div>
									<div class="xsbr"></div>
								</div>
						</div>
						<div style="position: absolute; z-index: 9003; visibility: visible; left: 297px; top: 150px; width: 380px; display: block;" class=" x-window x-window-plain" id="login-window">
							<div class="x-window-tl">
								<div class="x-window-tr">
									<div class="x-window-tc">
										<div style="-moz-user-select: none;" id="ext-gen17" class="x-window-header x-unselectable x-panel-icon icon-window-login"><span id="ext-gen27" class="x-window-header-text">Log in to OpenVZ Web Panel 2.0</span>
										</div>
									</div>
								</div>
							</div>
							<div id="ext-gen18" class="x-window-bwrap">
								<div class="x-window-ml">
									<div class="x-window-mr">
										<div id="ext-gen22" class="x-window-mc">
											<div style="width: 364px; height: auto;" id="ext-gen19" class="x-window-body">
												<div class=" x-plain x-form-label-left" id="ext-comp-1004">
													<div id="ext-gen30" class="x-plain-bwrap">
														<form style="padding: 15px 15px 0pt;" class="x-plain-body x-plain-body-noheader x-form" method="POST" id="ext-gen15">
															<div id="ext-gen32" class="x-form-item " tabindex="-1">
																<label id="ext-gen33" for="login" style="width:100px;" class="x-form-item-label">User name:</label><div class="x-form-element" id="x-form-el-login" style="padding-left:105px">
																	<input style="width: 202px;" class="x-form-text x-form-field" size="20" autocomplete="off" id="login" name="login" type="text"></div>
																	<div class="x-form-clear-left">
																	</div>
															</div>
															<div id="ext-gen34" class="x-form-item " tabindex="-1">
																<label id="ext-gen35" for="password" style="width:100px;" class="x-form-item-label">Password:</label>
																<div class="x-form-element" id="x-form-el-password" style="padding-left:105px">
																	<input style="width: 202px;" class=" x-form-text x-form-field" size="20" autocomplete="off" id="password" name="password" type="password"></div>
																	<div class="x-form-clear-left"></div>
																</div>
																<div id="ext-gen36" class="x-form-item " tabindex="-1">
																	<label id="ext-gen37" for="ext-comp-1005" style="width:100px;" class="x-form-item-label">Language:</label>
																<div class="x-form-element" id="x-form-el-ext-comp-1005" style="padding-left:105px">
																	<div style="width: 210px;" id="ext-gen38" class="x-form-field-wrap x-form-field-trigger-wrap">
																		<input value="en" name="locale" id="locale" type="hidden">
																		<input readonly="readonly" title="" style="width: 185px;" class="x-form-text x-form-field x-trigger-noedit" size="24" autocomplete="off" id="ext-comp-1005" type="text">
																		<img id="ext-gen39" src="/images/blank.gif" class="x-form-trigger x-form-arrow-trigger">
																	</div>
																</div>
																<div class="x-form-clear-left"></div>
															</div><div id="ext-gen40" class="x-form-item " tabindex="-1">
																<label id="ext-gen41" for="ext-comp-1006" style="width:100px;" class="x-form-item-label">Remember me:</label>
																<div class="x-form-element" id="x-form-el-ext-comp-1006" style="padding-left:105px">
																	<div id="ext-gen42" class="x-form-check-wrap">
																		<input checked="checked" class=" x-form-checkbox x-form-field" autocomplete="off" id="ext-comp-1006" name="remember_me" type="checkbox">
																		<label id="ext-gen43" for="ext-comp-1006" class="x-form-cb-label">&nbsp;</label>
																	</div>
																</div>
																<div class="x-form-clear-left"></div>
															</div>
															<div id="ext-gen44" class="x-form-item  x-hide-label" tabindex="-1">
																<label id="ext-gen45" for="ext-comp-1007" style="width:100px;" class="x-form-item-label"></label>
																<div class="x-form-element" id="x-form-el-ext-comp-1007" style="padding-left:105px">
																	<div style="margin-bottom: 10px;" class=" x-form-display-field" id="ext-comp-1007" name="ext-comp-1007">
																		<a href="#" onclick="document.location.href = '/restore-password'">Restore password</a>
																	</div>
																</div>
															<div class="x-form-clear-left"></div>
													</div>
												</form>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div id="ext-gen21" class="x-window-bl">
							<div class="x-window-br">
								<div class="x-window-bc">
									<div style="width: 356px;" id="ext-gen20" class="x-window-footer x-panel-btns">
										<div style="width: auto;" id="ext-comp-1009" class="x-panel-fbar x-small-editor x-toolbar-layout-ct"><table class="x-toolbar-ct" cellspacing="0">
											<tbody>
												<tr>
													<td class="x-toolbar-left" align="left">
														<table cellspacing="0">
															<tbody>
																<tr class="x-toolbar-left-row"></tr>
															</tbody>
														</table>
													</td>
														<td class="x-toolbar-right" align="right">
															<table class="x-toolbar-right-ct" cellspacing="0">
																<tbody>
																	<tr>
																		<td>
																			<table cellspacing="0">
																				<tbody>
																					<tr class="x-toolbar-right-row">
																						<td id="ext-gen28" class="x-toolbar-cell">
																							<table style="width: 75px;" id="ext-comp-1010" class="x-btn  x-btn-text-icon" cellspacing="0">
																								<tbody class="x-btn-small x-btn-icon-small-left">
																									<tr>
																										<td class="x-btn-tl"><i>&nbsp;</i></td>
																										<td class="x-btn-tc"></td><td class="x-btn-tr"><i>&nbsp;</i></td>
																									</tr>
																									<tr>
																										<td class="x-btn-ml"><i>&nbsp;</i></td>
																										<td class="x-btn-mc">
																											<em class="" unselectable="on">
																												<button class=" x-btn-text icon-button-login" id="ext-gen29" type="button">Log in</button>
																											</em>
																										</td>
																										<td class="x-btn-mr"><i>&nbsp;</i></td>
																									</tr>
																									<tr>
																										<td class="x-btn-bl"><i>&nbsp;</i></td>
																										<td class="x-btn-bc"></td><td class="x-btn-br"><i>&nbsp;</i></td>
																									</tr>
																								</tbody>
																							</table>
																						</td>
																					</tr>
																				</tbody>
																			</table>
																		</td>
																		<td>
																			<table cellspacing="0">
																				<tbody>
																					<tr class="x-toolbar-extras-row"></tr>
																				</tbody>
																			</table>
																		</td>
																	</tr>
																</tbody>
															</table>
														</td>
													</tr>
												</tbody>
											</table>
										</div>
										<div id="ext-gen24" class="x-clear">
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			<a id="ext-gen25" href="#" class="x-dlg-focus" tabindex="-1">&nbsp;</a>
		</div>

  </div>
 </div>
</div>
</div>
  
 
 
	
	
	
	
<!-- My functions ------------------------------------------------->
	
	<script type="text/javascript">
	
	$('#login_form').submit(function() {
		var login = $("#login").val();
		var password = $("#password").val();
		$.getJSON("/auth/" + login + "/" + password, function(json){
			(function(){ 
				var url = getURLParameter('url');
				alert (url);
				if (url != 'null'){
					$(location).attr('href',url);
				} else {
					$(location).attr('href','/');
				}
			})()
		});
		alert('identifiant ou mot de passe incorrect');
		return false;
	});
	
	//regex function to get a parametre in the url
	function getURLParameter(name) {
		return decodeURI(
			(RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,null])[1]
		);
	}

	</script>
	
</body>
</html>
